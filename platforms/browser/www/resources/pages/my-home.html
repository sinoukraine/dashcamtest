<template>
	<div class="page home-page cam" data-name="my-home">
                <div class="navbar">
                    <div class="navbar-inner">
                        <div class="left">
                            <a class="panel-open" href="#">
                                <i class="f7-icons icon-menu"></i>
                            </a>
                        </div>
                        <div class="title">Home</div>
                    </div>
                </div>

                <div class="toolbar toolbar-bottom">
                    <div class="toolbar-inner">
                        <a class="btn-cs" href="#" id='connectCam'>
                            live
                        </a>
                    </div>
                </div>
				

                <div class="page-content">
                    <div class="inner-content">
                        
                        <img class="main-bg" src="./resources/images/main.png" alt="main">
						<!--<p class="text-content">Click the CONNECT button to start watching live stream.</p>-->
                        <!--<p class="text-content">You have not had any connections to the dashcam.</p>-->
                        <p class="text-content">Select in the connection settings Wi-Fi your dashcam and click the CONNECT button.</p>
						<br><a href="/my-hints/">How to connect?</a>
                    </div>
                </div>
            </div>
</template>

<script>
  // script must return component object
    return { 
        data: function () {
            var self = this;
            var ret = {};            

            return ret;
        },
        on: {
            pageInit: function (e, page) {  
				var self = this;    			
				
				page.$el.on('click', '#connectCam', function(e){
						if(window && window.plugins && window.plugins.streamingMedia) {
						  let StreamingMedia = window.plugins.streamingMedia;
						  StreamingMedia.playiOS(API_LIVE_STREAM);
						}else{
							App.dialog.alert("Error video!");
						}
				});
			}
		}
    };
</script>
    